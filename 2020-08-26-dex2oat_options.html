<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Dex2Oat 编译选项列表" /><meta name="author" content="zjh" /><meta property="og:locale" content="en_US" /><meta name="description" content="简介 笔者在编译产物中直接执行out/soong/host/linux-x86/bin/dex2oatd， 该命令会输出编译选项，如下：" /><meta property="og:description" content="简介 笔者在编译产物中直接执行out/soong/host/linux-x86/bin/dex2oatd， 该命令会输出编译选项，如下：" /><link rel="canonical" href="/2020-08-26-dex2oat_options.html" /><meta property="og:url" content="/2020-08-26-dex2oat_options.html" /><meta property="og:site_name" content="Zhenghanhan Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-08-27T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Dex2Oat 编译选项列表" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@zjh" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"zjh"},"headline":"Dex2Oat 编译选项列表","dateModified":"2020-08-27T00:00:00+08:00","datePublished":"2020-08-27T00:00:00+08:00","url":"/2020-08-26-dex2oat_options.html","description":"简介 笔者在编译产物中直接执行out/soong/host/linux-x86/bin/dex2oatd， 该命令会输出编译选项，如下：","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/2020-08-26-dex2oat_options.html"},"@context":"https://schema.org"}</script><title>Dex2Oat 编译选项列表 | Zhenghanhan Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Zhenghanhan Blog</a></div><div class="site-subtitle font-italic">Never Cease to be Eager to Techniques</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/github_username" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['alanwilliams','foxmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>Dex2Oat 编译选项列表</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Dex2Oat 编译选项列表</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Aug 27, 2020, 12:00 AM +0800" > Aug 27, 2020 <i class="unloaded">2020-08-27T00:00:00+08:00</i> </span> by <span class="author"> zjh </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1633 words">9 min</span></div></div><div class="post-content"><h2 id="简介">简介</h2><p>笔者在编译产物中直接执行out/soong/host/linux-x86/bin/dex2oatd， 该命令会输出编译选项，如下：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
</pre><td class="rouge-code"><pre>Output must be supplied with either --oat-file or --oat-fd
 Command: out/soong/host/linux-x86/bin/dex2oatd
 Usage: dex2oat [options]...
 
   -j&lt;number&gt;: specifies the number of threads used for compilation.
        Default is the number of detected hardware threads available on the
        host system.
       Example: -j12
 
   --cpu-set=&lt;set&gt;: sets the cpu affinity to &lt;set&gt;. The &lt;set&gt; argument is a comma
     separated list of CPUs.
     Example: --cpu-set=0,1,2,3
 
   --dex-file=&lt;dex-file&gt;: specifies a .dex, .jar, or .apk file to compile.
       Example: --dex-file=/system/framework/core.jar
 
   --dex-location=&lt;dex-location&gt;: specifies an alternative dex location to
       encode in the oat file for the corresponding --dex-file argument.
       Example: --dex-file=/home/build/out/system/framework/core.jar
                --dex-location=/system/framework/core.jar
 
   --zip-fd=&lt;file-descriptor&gt;: specifies a file descriptor of a zip file
       containing a classes.dex file to compile.
       Example: --zip-fd=5
 
   --zip-location=&lt;zip-location&gt;: specifies a symbolic name for the file
       corresponding to the file descriptor specified by --zip-fd.
       Example: --zip-location=/system/app/Calculator.apk
 
   --oat-file=&lt;file.oat&gt;: specifies an oat output destination via a filename.
       Example: --oat-file=/system/framework/boot.oat
 
   --oat-fd=&lt;number&gt;: specifies the oat output destination via a file descriptor.
       Example: --oat-fd=6
 
   --input-vdex-fd=&lt;number&gt;: specifies the vdex input source via a file descriptor.
       Example: --input-vdex-fd=6
 
   --output-vdex-fd=&lt;number&gt;: specifies the vdex output destination via a file
       descriptor.
       Example: --output-vdex-fd=6
 
   --oat-location=&lt;oat-name&gt;: specifies a symbolic name for the file corresponding
       to the file descriptor specified by --oat-fd.
       Example: --oat-location=/data/dalvik-cache/system@app@Calculator.apk.oat
 
   --oat-symbols=&lt;file.oat&gt;: specifies a destination where the oat file is copied.
       This is equivalent to file copy as build post-processing step.
       It is intended to be used with --strip and it happens before it.
       Example: --oat-symbols=/symbols/system/framework/boot.oat
 
   --strip: remove all debugging sections at the end (but keep mini-debug-info).
       This is equivalent to the "strip" command as build post-processing step.
       It is intended to be used with --oat-symbols and it happens after it.
       Example: --oat-symbols=/symbols/system/framework/boot.oat
 
   --image=&lt;file.art&gt;: specifies an output image filename.
       Example: --image=/system/framework/boot.art
 
   --image-format=(uncompressed|lz4|lz4hc):
       Which format to store the image.
       Example: --image-format=lz4
       Default: uncompressed
 
   --image-classes=&lt;classname-file&gt;: specifies classes to include in an image.
       Example: --image=frameworks/base/preloaded-classes
 
   --base=&lt;hex-address&gt;: specifies the base address when creating a boot image.
       Example: --base=0x50000000
 
   --boot-image=&lt;file.art&gt;: provide the image file for the boot class path.
       Do not include the arch as part of the name, it is added automatically.
       Example: --boot-image=/system/framework/boot.art
                (specifies /system/framework/&lt;arch&gt;/boot.art as the image file)
       Default: $ANDROID_ROOT/system/framework/boot.art
 
   --android-root=&lt;path&gt;: used to locate libraries for portable linking.
       Example: --android-root=out/host/linux-x86
       Default: $ANDROID_ROOT
 
   --instruction-set=(arm|arm64|mips|mips64|x86|x86_64): compile for a particular
       instruction set.
       Example: --instruction-set=x86
       Default: arm
 
   --instruction-set-features=...,: Specify instruction set features
       On target the value 'runtime' can be used to detect features at run time.
       If target does not support run-time detection the value 'runtime'
       has the same effect as the value 'default'.
       Note: the value 'runtime' has no effect if it is used on host.
       Example: --instruction-set-features=div
       Default: default
 
   --compiler-backend=(Quick|Optimizing): select compiler backend
       set.
       Example: --compiler-backend=Optimizing
       Default: Optimizing
 
   --compiler-filter=(assume-verified|extract|verify|quicken|space-profile|space|speed-profile|speed|everything-profile|everything):
       select compiler filter.
       Example: --compiler-filter=everything
       Default: speed
 
   --huge-method-max=&lt;method-instruction-count&gt;: threshold size for a huge
       method for compiler filter tuning.
       Example: --huge-method-max=10000
       Default: 10000
 
   --large-method-max=&lt;method-instruction-count&gt;: threshold size for a large
       method for compiler filter tuning.
       Example: --large-method-max=600
       Default: 600
 
   --small-method-max=&lt;method-instruction-count&gt;: threshold size for a small
       method for compiler filter tuning.
       Example: --small-method-max=60
       Default: 60
 
   --tiny-method-max=&lt;method-instruction-count&gt;: threshold size for a tiny
       method for compiler filter tuning.
       Example: --tiny-method-max=20
       Default: 20
 
   --num-dex-methods=&lt;method-count&gt;: threshold size for a small dex file for
       compiler filter tuning. If the input has fewer than this many methods
       and the filter is not interpret-only or verify-none or verify-at-runtime, 
       overrides the filter to use speed
       Example: --num-dex-method=900
       Default: 900
 
   --inline-max-code-units=&lt;code-units-count&gt;: the maximum code units that a method
       can have to be considered for inlining. A zero value will disable inlining.
       Honored only by Optimizing. Has priority over the --compiler-filter option.
       Intended for development/experimental use.
       Example: --inline-max-code-units=32
       Default: 32
 
   --dump-timings: display a breakdown of where time was spent
 
   --dump-pass-timings: display a breakdown of time spent in optimization
       passes for each compiled method.
 
   -g
   --generate-debug-info: Generate debug information for native debugging,
       such as stack unwinding information, ELF symbols and DWARF sections.
       If used without --debuggable, it will be best-effort only.
       This option does not affect the generated code. (disabled by default)
 
   --no-generate-debug-info: Do not generate debug information for native debugging.
 
   --generate-mini-debug-info: Generate minimal amount of LZMA-compressed
       debug information necessary to print backtraces. (disabled by default)
 
   --no-generate-mini-debug-info: Do not generate backtrace info.
 
   --generate-build-id: Generate GNU-compatible linker build ID ELF section with
       SHA-1 of the file content (and thus stable across identical builds)
 
   --no-generate-build-id: Do not generate the build ID ELF section.
 
   --debuggable: Produce code debuggable with Java debugger.
 
   --avoid-storing-invocation: Avoid storing the invocation args in the key value
       store. Used to test determinism with different args.
 
   --write-invocation-to=&lt;file&gt;: Write the invocation commandline to the given file
       for later use. Used to test determinism with different host architectures.
 
   --runtime-arg &lt;argument&gt;: used to specify various arguments for the runtime,
       such as initial heap size, maximum heap size, and verbose output.
       Use a separate --runtime-arg switch for each argument.
       Example: --runtime-arg -Xms256m
 
   --profile-file=&lt;filename&gt;: specify profiler output file to use for compilation.
 
   --profile-file-fd=&lt;number&gt;: same as --profile-file but accepts a file descriptor.
       Cannot be used together with --profile-file.
 
   --swap-file=&lt;file-name&gt;: specifies a file to use for swap.
       Example: --swap-file=/data/tmp/swap.001
 
   --swap-fd=&lt;file-descriptor&gt;: specifies a file to use for swap (by descriptor).
       Example: --swap-fd=10
 
   --swap-dex-size-threshold=&lt;size&gt;: specifies the minimum total dex file size in
       bytes to allow the use of swap.
       Example: --swap-dex-size-threshold=1000000
       Default: 20971520
 
   --swap-dex-count-threshold=&lt;count&gt;: specifies the minimum number of dex files to
       allow the use of swap.
       Example: --swap-dex-count-threshold=10
       Default: 2
 
   --very-large-app-threshold=&lt;size&gt;: specifies the minimum total dex file size in
       bytes to consider the input "very large" and reduce compilation done.
       Example: --very-large-app-threshold=100000000
 
   --app-image-fd=&lt;file-descriptor&gt;: specify output file descriptor for app image.
       The image is non-empty only if a profile is passed in.
       Example: --app-image-fd=10
 
   --app-image-file=&lt;file-name&gt;: specify a file name for app image.
       Example: --app-image-file=/data/dalvik-cache/system@app@Calculator.apk.art
 
   --multi-image: obsolete, ignored
 
   --force-determinism: force the compiler to emit a deterministic output.
 
   --dump-cfg=&lt;cfg-file&gt;: dump control-flow graphs (CFGs) to specified file.
       Example: --dump-cfg=output.cfg
 
   --dump-cfg-append: when dumping CFGs to an existing file, append new CFG data to
       existing data (instead of overwriting existing data with new data, which is
       the default behavior). This option is only meaningful when used with
       --dump-cfg.
 
   --classpath-dir=&lt;directory-path&gt;: directory used to resolve relative class paths.
 
   --class-loader-context=&lt;string spec&gt;: a string specifying the intended
       runtime loading context for the compiled dex files.
 
   --stored-class-loader-context=&lt;string spec&gt;: a string specifying the intended
       runtime loading context that is stored in the oat file. Overrides
       --class-loader-context. Note that this ignores the classpath_dir arg.
 
       It describes how the class loader chain should be built in order to ensure
       classes are resolved during dex2aot as they would be resolved at runtime.
       This spec will be encoded in the oat file. If at runtime the dex file is
       loaded in a different context, the oat file will be rejected.
 
       The chain is interpreted in the natural 'parent order', meaning that class
       loader 'i+1' will be the parent of class loader 'i'.
       The compilation sources will be appended to the classpath of the first class
       loader.
 
       E.g. if the context is 'PCL[lib1.dex];DLC[lib2.dex]' and 
       --dex-file=src.dex then dex2oat will setup a PathClassLoader with classpath 
       'lib1.dex:src.dex' and set its parent to a DelegateLastClassLoader with 
       classpath 'lib2.dex'.
 
       Note that the compiler will be tolerant if the source dex files specified
       with --dex-file are found in the classpath. The source dex files will be
       removed from any class loader's classpath possibly resulting in empty
       class loaders.
 
       Example: --class-loader-context=PCL[lib1.dex:lib2.dex];DLC[lib3.dex]
 
   --class-loader-context-fds=&lt;fds&gt;: a colon-separated list of file descriptors
       for dex files in --class-loader-context. Their order must be the same as
       dex files in flattened class loader context.
 
   --dirty-image-objects=&lt;directory-path&gt;: list of known dirty objects in the image.
       The image writer will group them together.
 
   --compact-dex-level=none|fast: None avoids generating compact dex, fast
       generates compact dex with low compile time. If speed-profile is specified as
       the compiler filter and the profile is not empty, the default compact dex
       level is always used.
 
   --deduplicate-code=true|false: enable|disable code deduplication. Deduplicated
       code will have an arbitrary symbol tagged with [DEDUPED].
 
   --copy-dex-files=true|false: enable|disable copying the dex files into the
       output vdex.
 
   --compilation-reason=&lt;string&gt;: optional metadata specifying the reason for
       compiling the apk. If specified, the string will be embedded verbatim in
       the key value store of the oat file.
       Example: --compilation-reason=install
 
   --resolve-startup-const-strings=true|false: If true, the compiler eagerly
       resolves strings referenced from const-string of startup methods.
 
   --max-image-block-size=&lt;size&gt;: Maximum solid block size for compressed images.
 
See log for usage error information
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/art/" class="post-tag no-text-decoration" >art</a> <a href="/tags/default/" class="post-tag no-text-decoration" >default</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Dex2Oat 编译选项列表 - Zhenghanhan Blog&url=/2020-08-26-dex2oat_options.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Dex2Oat 编译选项列表 - Zhenghanhan Blog&u=/2020-08-26-dex2oat_options.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Dex2Oat 编译选项列表 - Zhenghanhan Blog&url=/2020-08-26-dex2oat_options.html" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/2019-12-30-computer-books.html">计算机专业好书推荐</a><li><a href="/posts/available-expression-analysis/">Dataflow Analysis中的Available Expressions Analysis</a><li><a href="/posts/graph-basics/">图相关知识回顾</a><li><a href="/posts/anticipable-expressions-analysis/">Dataflow Analysis中的Anticipable Expressions Analysis</a><li><a href="/posts/llvm_getting_started/">LLVM学习开动篇</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/default/">default</a> <a class="post-tag" href="/tags/art/">art</a> <a class="post-tag" href="/tags/compiler/">compiler</a> <a class="post-tag" href="/tags/llvm/">llvm</a> <a class="post-tag" href="/tags/getting-started/">getting_started</a> <a class="post-tag" href="/tags/theory/">theory</a> <a class="post-tag" href="/tags/general/">general</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/jni/">jni</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/2020-07-27-aosp_build.html"><div class="card-body"> <span class="timeago small" > Jul 27, 2020 <i class="unloaded">2020-07-27T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AOSP源码下载、编译与刷机</h3><div class="text-muted small"><p> 环境简介 笔者的电脑是一款Win10笔记本电脑（内存16GB * 2），通过VMware® Workstation 15 Pro虚拟机虚拟出一个 Ubuntu 20.04操作系统实例。 详细的参数如下图： 分配给这个虚拟机实例的资源配置如下： 我给ubuntu实例分配了500+GB的磁盘，并分配了22GB的内存（因为编译AOSP很耗费内存），现在编译完了，笔者又把它手动调低到了图中...</p></div></div></a></div><div class="card"> <a href="/2020-08-20-art_compiler_basics.html"><div class="card-body"> <span class="timeago small" > Aug 20, 2020 <i class="unloaded">2020-08-20T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ART中编译器相关基础知识记录</h3><div class="text-muted small"><p> 基础数据结构简介 vim art/compiler/optimizing/nodes.h +312 // Control-flow graph of a method. Contains a list of basic blocks. class HGraph : public ArenaObject&lt;kArenaAllocGraph&gt; { public: HGraph(...</p></div></div></a></div><div class="card"> <a href="/2020-08-26-dex2oat_basics.html"><div class="card-body"> <span class="timeago small" > Aug 26, 2020 <i class="unloaded">2020-08-26T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Dex2Oat基础</h3><div class="text-muted small"><p> 简介 在我们构建出来的out目录下，有一个叫做verbose.log.gz的文件，我们使用gzip -d verbose.log.gz 可以得到一个文本文件verbose.log，它保存了在构建整个系统的时候，详细的构建流程。 我们从这个log中截取构建boot.oat文件的构建命令 [63549/63992] mkdir -p out/soong/walleye/dex_boot...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/2020-08-26-dex2oat_basics.html" class="btn btn-outline-primary" prompt="Older"><p>Dex2Oat基础</p></a> <a href="/2020-09-10-app-start.html" class="btn btn-outline-primary" prompt="Newer"><p>应用启动流程分析</p></a></div></div></div></div><script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1279683720'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1279683720%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="">zjh</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">All rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/default/">default</a> <a class="post-tag" href="/tags/art/">art</a> <a class="post-tag" href="/tags/compiler/">compiler</a> <a class="post-tag" href="/tags/llvm/">llvm</a> <a class="post-tag" href="/tags/getting-started/">getting_started</a> <a class="post-tag" href="/tags/theory/">theory</a> <a class="post-tag" href="/tags/general/">general</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/jni/">jni</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
